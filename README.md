# MemoRead

> 一款优雅的跨平台阅读笔记应用，支持 iPhone 与 Mac 本地无缝同步

## 产品概览

MemoRead 是一款精心打造的阅读笔记应用，完美支持 iOS 和 macOS 平台。通过创新的本地网络同步技术，无需云服务即可在设备间实时同步数据，让您的阅读笔记管理更轻松、更高效、更私密。

### 界面预览

<table>
  <tr>
    <td align="center"><img src="README.assets/Memo_iOS.png" alt="iOS Light Mode"/><br/><sub><b>iOS 浅色模式</b></sub></td>
    <td align="center"><img src="README.assets/Memo_iOS_Dark.png" alt="iOS Dark Mode"/><br/><sub><b>iOS 深色模式</b></sub></td>
  </tr>
</table>

<p align="center">
  <img src="README.assets/Memo_macOS.png" alt="macOS Mode"/><br/>
  <sub><b>macOS 菜单栏应用</b></sub>
</p>

## ✨ 特色功能

### 📝 智能内容管理
- **多样化内容支持**：文本、图片、链接，一应俱全
- **实时图片同步**：支持拍照和相册选择，自动压缩传输
- **智能内容识别**：自动识别并优化显示不同类型的内容
- **灵活分类管理**：支持搜索和多维度排序
- **智能提醒功能**：定时推送，不遗漏任何重要笔记

### 🎨 精致界面设计
- **原生体验**：完美适配 iOS 和 macOS 原生风格
- **优雅深色模式**：自动适应系统主题，保护您的眼睛
- **macOS 菜单栏应用**：快速访问，不打扰工作流
- **动态状态提示**：实时显示设备连接状态和同步进度
- **流畅动画效果**：Toast 提示、连接指示器等细节打磨

### 🔄 创新本地同步
- **零配置同步**：自动发现附近设备，一键连接
- **实时数据传输**：MultipeerConnectivity 技术，毫秒级同步
- **完全隐私保护**：数据仅在本地网络传输，无需云服务
- **智能连接管理**：自动重连，断线检测，连接状态可视化
- **离线优先设计**：本地存储优先，网络只是传输通道

### 💡 人性化交互
- **连接状态指示**：
  - 🟠 未连接：橙色呼吸动画
  - 🟢 已连接：绿色静态显示
- **优雅的 Toast 提示**：弹簧动画，自适应宽度
- **快捷操作**：支持拍照、相册选择、文本输入
- **多设备协作**：iOS 创建，Mac 查看，无缝衔接

## 🛠️ 技术架构

| 核心模块 | 技术选型 | 主要优势 |
|---------|---------|---------|
| 界面框架 | SwiftUI | 现代化的声明式 UI，实现跨平台代码复用 |
| 数据存储 | SwiftData | 高性能本地数据库，支持复杂数据关系 |
| 本地同步 | MultipeerConnectivity | 零配置 P2P 连接，毫秒级数据传输 |
| 图片处理 | Base64 + JPEG 压缩 | 高效传输，跨平台兼容 |
| 通知系统 | UserNotifications | 原生提醒，支持定时推送 |
| macOS 集成 | MenuBarExtra | 菜单栏应用，快速访问 |

### 架构特点

- **离线优先**：所有数据本地存储，网络仅用于设备间传输
- **无服务器**：完全去中心化，无需后端服务器
- **隐私至上**：数据仅在本地网络传输，不上传云端
- **实时同步**：MultipeerConnectivity 提供毫秒级同步体验
- **智能管理**：自动发现设备、重连机制、状态可视化

## 🚀 开始使用

### 环境要求

- **iOS**：iOS 17.0+ (支持 PhotosPicker)
- **macOS**：macOS 14.0+ (支持 MenuBarExtra)
- **开发工具**：Xcode 16.0+
- **网络**：设备需在同一局域网（Wi-Fi 或热点）

### 安装指南

1. 克隆代码仓库：
```bash
git clone https://github.com/DargonLee/MemoRead
```

2. 使用 Xcode 打开项目：
```bash
cd MemoRead
open MemoRead.xcodeproj
```

3. 选择目标设备并运行：
   - iOS：选择 iPhone 或模拟器
   - macOS：选择 My Mac

### 使用说明

#### iOS 端
1. 打开应用，点击右下角的 **+** 按钮
2. 选择内容类型：
   - 📝 文本输入
   - 📷 拍照
   - 🖼️ 从相册选择
3. 可选设置提醒时间
4. 保存后自动同步到 Mac

#### macOS 端
1. 应用自动显示在菜单栏
2. 点击菜单栏图标查看所有笔记
3. 实时接收来自 iOS 的同步数据
4. 连接状态：
   - 🟠 橙色脉动：搜索设备中
   - 🟢 绿色：已连接

### 同步机制

1. **自动发现**：
   - iOS 端作为浏览器，主动搜索 Mac
   - macOS 端作为广播者，等待连接

2. **连接过程**：
   - 设备在同一网络自动发现
   - iOS 发送连接邀请
   - Mac 自动接受（同平台过滤）
   - 建立 P2P 连接通道

3. **数据同步**：
   - 实时同步：创建卡片时立即传输
   - 断线重连：自动检测并重新同步未同步数据
   - 双向同步：支持创建、更新、删除操作

## 📝 开发计划

### 已完成
- [x] 使用 `MultipeerConnectivity` 实现近场通信
- [x] macOS 菜单栏应用
- [x] 图片传输支持
- [x] Toast 通知系统
- [x] 连接状态可视化
- [x] 自动设备过滤（iOS 只连 Mac，Mac 只连 iOS）

### 进行中
- [ ] 列表形式参考 `screenshot.png`
- [ ] Mac 版本可以从右侧呼出
- [ ] AI 辅助功能集成

### 规划中
- [ ] 支持更多文件格式（PDF、Markdown）
- [ ] 批量操作支持
- [ ] 标签系统优化
- [ ] Web 版本开发：https://memo.vaaat.com/
- [ ] 数据导入导出功能



## 🤝 参与贡献

我们欢迎所有形式的贡献，无论是新功能、bug 修复还是文档改进。请查看我们的贡献指南了解更多信息。

## 📄 开源协议

本项目采用 MIT 协议开源，详见 [LICENSE](LICENSE) 文件。